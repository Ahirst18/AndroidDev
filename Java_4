Understanding Samsung ISN Structure: Header, Payload, and Signature

In the world of mobile development, when working with Samsung services like Samsung In-App Purchase (IAP), you’ll often come across ISN (In-App Subscription Notification). ISN helps you handle things like checking the status of a user’s subscription, cancellations, or refunds. To make sense of how it works, we need to break down its structure: the Header, Payload, and Signature. Let’s dive into this in simple terms.

1. What is Samsung ISN?

Samsung ISN is a way for Samsung’s system to notify your server about changes in a user’s subscription status. For example, if a user cancels a subscription, Samsung will send an ISN to let your server know. Think of it as a message or notification that updates you about subscription events.

To make sure this message is secure and trustworthy, it’s broken down into three parts: the Header, Payload, and Signature. These parts help your app understand and verify what’s happening.


---

2. The Three Main Parts of ISN

a) Header

The Header is like the envelope of a letter. It tells you about the type of notification being sent, such as whether it’s about a new subscription, a renewal, or a cancellation. This section doesn’t contain any sensitive information but gives the necessary details about the type of event.

Some things you’ll find in the header:

Event Type (e.g., subscription renewal, cancellation)

Algorithm Information (e.g., the method used to encrypt the data)


b) Payload

The Payload is the actual content of the message. Think of it as the letter inside the envelope. This part contains the crucial information you need, like the user’s subscription details, the product they’ve subscribed to, and the current status of the subscription.

For example, it can contain:

Subscription ID: A unique identifier for the subscription.

Product ID: The ID of the specific product or service the user is subscribed to.

Status: Whether the subscription is active, canceled, or expired.

Time of the Event: When the event occurred.


The payload is where all the important information is stored that your server will process.

c) Signature

The Signature is the security feature. It’s like a digital stamp that proves the message is genuine and hasn’t been tampered with. Samsung uses the Signature to ensure the data in the Payload is authentic. Before your app trusts the notification, it verifies the Signature to make sure everything is legit.

The signature works by using cryptographic algorithms to create a unique code based on the content of the Payload. Your server checks this signature to confirm that no one has altered the message while it was being transmitted.


---

3. How to Use ISN in Your App

When your app receives an ISN from Samsung, it goes through these steps:

1. Read the Header: Understand the type of event that triggered the notification.


2. Verify the Signature: Make sure the message is secure and hasn’t been tampered with.


3. Process the Payload: Use the information in the Payload to update the user’s subscription status, process refunds, or handle other subscription-related tasks.




---

4. Why is ISN Important?

ISN is vital because it ensures your app stays up to date with any changes in a user's subscription. This helps you provide the right access to services, manage subscriptions properly, and offer a smooth user experience.


---

5. Final Thoughts

Working with Samsung ISN may seem technical at first, but breaking it down into the Header, Payload, and Signature makes it easier to understand. Remember, the Header tells you what’s happening, the Payload gives the details, and the Signature makes sure it’s all secure. By handling ISNs correctly, you can manage your users’ subscriptions efficiently and securely.

Hope this guide helps you get started with Samsung ISN!

